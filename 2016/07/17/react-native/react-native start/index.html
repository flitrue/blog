<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>react-native å¼€å§‹èµ°å‘mobileå¼€å‘ | ç²¾ç¥ç—…èšé›†åœ°</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ä»å»å¹´å¼€å‘æ¥è§¦ç§»åŠ¨ç«¯webå¼€å‘ï¼Œåšäº†è®¸å¤šçš„webappç¨‹åºï¼ŒåµŒå…¥åŸç”Ÿç¨‹åºä¸­çš„è¡¨ç°éƒ½ä¸å¤ªå¥½ï¼Œè€æ˜¯ä¼šå¡é¡¿ã€‚ä¹Ÿå°è¯•è¿‡è®¸å¤šçš„hybirdè§£å†³æ–¹æ¡ˆï¼Œ phoneGap å’Œ H5+ è¿™ä¸¤è€…éƒ½æ˜¯ä»¥ webview ä¸ºæ ¸å¿ƒçš„å¼€å‘ã€‚ç”±äºandoridç³»ç»Ÿçš„åŸå› ï¼Œå˜ç°éƒ½ä¸å¤ªå¥½ï¼ˆIOSä¸Šè¿˜æ˜¯å¾ˆæµç•…çš„ï¼‰ã€‚
å»å¹´ä¸‹åŠå¹´å¼€å§‹å…³æ³¨ react-native, ä¸€ç›´ä¹Ÿæ²¡æœ‰æœºä¼šæ­£å¼æ‹¿æ¥å¼€å‘, æœ€è¿‘å…¬å¸è¦å¼€å‘androidç‰ˆçš„ ç¯ä¿">
<meta property="og:type" content="article">
<meta property="og:title" content="react-native å¼€å§‹èµ°å‘mobileå¼€å‘">
<meta property="og:url" content="http://myronliu.com/2016/07/17/react-native/react-native start/index.html">
<meta property="og:site_name" content="ç²¾ç¥ç—…èšé›†åœ°">
<meta property="og:description" content="ä»å»å¹´å¼€å‘æ¥è§¦ç§»åŠ¨ç«¯webå¼€å‘ï¼Œåšäº†è®¸å¤šçš„webappç¨‹åºï¼ŒåµŒå…¥åŸç”Ÿç¨‹åºä¸­çš„è¡¨ç°éƒ½ä¸å¤ªå¥½ï¼Œè€æ˜¯ä¼šå¡é¡¿ã€‚ä¹Ÿå°è¯•è¿‡è®¸å¤šçš„hybirdè§£å†³æ–¹æ¡ˆï¼Œ phoneGap å’Œ H5+ è¿™ä¸¤è€…éƒ½æ˜¯ä»¥ webview ä¸ºæ ¸å¿ƒçš„å¼€å‘ã€‚ç”±äºandoridç³»ç»Ÿçš„åŸå› ï¼Œå˜ç°éƒ½ä¸å¤ªå¥½ï¼ˆIOSä¸Šè¿˜æ˜¯å¾ˆæµç•…çš„ï¼‰ã€‚
å»å¹´ä¸‹åŠå¹´å¼€å§‹å…³æ³¨ react-native, ä¸€ç›´ä¹Ÿæ²¡æœ‰æœºä¼šæ­£å¼æ‹¿æ¥å¼€å‘, æœ€è¿‘å…¬å¸è¦å¼€å‘androidç‰ˆçš„ ç¯ä¿">
<meta property="og:image" content="http://myronliu.com/images/14691964106736.jpg">
<meta property="og:updated_time" content="2017-01-31T03:08:43.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="react-native å¼€å§‹èµ°å‘mobileå¼€å‘">
<meta name="twitter:description" content="ä»å»å¹´å¼€å‘æ¥è§¦ç§»åŠ¨ç«¯webå¼€å‘ï¼Œåšäº†è®¸å¤šçš„webappç¨‹åºï¼ŒåµŒå…¥åŸç”Ÿç¨‹åºä¸­çš„è¡¨ç°éƒ½ä¸å¤ªå¥½ï¼Œè€æ˜¯ä¼šå¡é¡¿ã€‚ä¹Ÿå°è¯•è¿‡è®¸å¤šçš„hybirdè§£å†³æ–¹æ¡ˆï¼Œ phoneGap å’Œ H5+ è¿™ä¸¤è€…éƒ½æ˜¯ä»¥ webview ä¸ºæ ¸å¿ƒçš„å¼€å‘ã€‚ç”±äºandoridç³»ç»Ÿçš„åŸå› ï¼Œå˜ç°éƒ½ä¸å¤ªå¥½ï¼ˆIOSä¸Šè¿˜æ˜¯å¾ˆæµç•…çš„ï¼‰ã€‚
å»å¹´ä¸‹åŠå¹´å¼€å§‹å…³æ³¨ react-native, ä¸€ç›´ä¹Ÿæ²¡æœ‰æœºä¼šæ­£å¼æ‹¿æ¥å¼€å‘, æœ€è¿‘å…¬å¸è¦å¼€å‘androidç‰ˆçš„ ç¯ä¿">
<meta name="twitter:image" content="http://myronliu.com/images/14691964106736.jpg">
  
    <link rel="alternate" href="/atom.xml" title="ç²¾ç¥ç—…èšé›†åœ°" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/plugin/bganimation/bg.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <div class="outer">
        <div class="widget-wrap mobile-header">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="/images/uicon.jpg">
    <h2 class="author">myron</h2>
    <h3 class="description">ä¸€åªç–¯äº†çš„å‰ç«¯ğŸ¶</h3>
    <div class="count-box">
      <a href="/archives"><div><strong>48</strong><br>æ–‡ç« </div></a>
      <a href="/categories"><div><strong>0</strong><br>åˆ†ç±»</div></a>
      <a href="/tags/vue"><div><strong>25</strong><br>æ ‡ç­¾</div></a>
    </div>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>ä¸»é¡µ</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>å½’æ¡£</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>åˆ†ç±»</li>
          </a>
        
          <a href="/tags/vue" title="Tags">
            <li>æ ‡ç­¾</li>
          </a>
        
    </ul>
  </div>
</div>

        <section id="main"><article id="post-react-native/react-native start" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/17/react-native/react-native start/" class="article-date">
  <time class="post-time" datetime="2016-07-17T01:38:24.000Z" itemprop="datePublished">
    <span class="post-month">7æœˆ</span><br/>
    <span class="post-day">17</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      react-native å¼€å§‹èµ°å‘mobileå¼€å‘
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>ä»å»å¹´å¼€å‘æ¥è§¦ç§»åŠ¨ç«¯webå¼€å‘ï¼Œåšäº†è®¸å¤šçš„webappç¨‹åºï¼ŒåµŒå…¥åŸç”Ÿç¨‹åºä¸­çš„è¡¨ç°éƒ½ä¸å¤ªå¥½ï¼Œè€æ˜¯ä¼šå¡é¡¿ã€‚ä¹Ÿå°è¯•è¿‡è®¸å¤šçš„hybirdè§£å†³æ–¹æ¡ˆï¼Œ <code>phoneGap</code> å’Œ <code>H5+</code> è¿™ä¸¤è€…éƒ½æ˜¯ä»¥ <code>webview</code> ä¸ºæ ¸å¿ƒçš„å¼€å‘ã€‚ç”±äºandoridç³»ç»Ÿçš„åŸå› ï¼Œå˜ç°éƒ½ä¸å¤ªå¥½ï¼ˆIOSä¸Šè¿˜æ˜¯å¾ˆæµç•…çš„ï¼‰ã€‚</p>
<p>å»å¹´ä¸‹åŠå¹´å¼€å§‹å…³æ³¨ <a href="http://reactnative.cn/" target="_blank" rel="external">react-native</a>, ä¸€ç›´ä¹Ÿæ²¡æœ‰æœºä¼šæ­£å¼æ‹¿æ¥å¼€å‘, æœ€è¿‘å…¬å¸è¦å¼€å‘androidç‰ˆçš„ <a href="http://www.hbtoutiao.cn/" target="_blank" rel="external">ç¯ä¿å¤´æ¡</a>, å†³å®šä½¿ç”¨react-nativeæ¥å¼€å‘ã€‚ä½“éªŒä¹‹åæ€§èƒ½çš„ç¡®æ˜¯æ¯”webviewçš„æ–¹å¼å¥½å¤ªå¤šã€‚ æ‰€ä»¥å†³å®šè®°å½•ä¸€ä¸‹react-native åº”ç”¨å¼€å‘çš„ä¸€äº›çŸ¥è¯†ç‚¹<br><a id="more"></a></p>
<h2 id="ä¸€ã€é…ç½®å¼€å‘ç¯å¢ƒ"><a href="#ä¸€ã€é…ç½®å¼€å‘ç¯å¢ƒ" class="headerlink" title="ä¸€ã€é…ç½®å¼€å‘ç¯å¢ƒ"></a>ä¸€ã€é…ç½®å¼€å‘ç¯å¢ƒ</h2><p>è¿™ä¸ªç¯å¢ƒé…ç½®ï¼Œå®˜æ–¹æ–‡æ¡£ç»™çš„å¾ˆå…¨æˆ‘å°±ä¸å¤šåšèµ˜è¿°äº†ï¼ŒæŒ‰ç…§ <a href="http://reactnative.cn/docs/0.28/getting-started.htm" target="_blank" rel="external">å¼€å§‹ä½¿ç”¨React Native
</a> æ–‡æ¡£é…ç½®å°±å¯ä»¥äº†ã€‚</p>
<h2 id="äºŒã€åº”ç”¨ç»“æ„"><a href="#äºŒã€åº”ç”¨ç»“æ„" class="headerlink" title="äºŒã€åº”ç”¨ç»“æ„"></a>äºŒã€åº”ç”¨ç»“æ„</h2><p>ä½¿ç”¨å‘½ä»¤ <code>react-native init</code> ç”Ÿæˆé¡¹ç›®ä¹‹åä¼šæœ‰ä¸€ä¸ªè¿™æ ·çš„æ–‡ä»¶ç»“æ„</p>
<p><img src="/images/14691964106736.jpg" alt="14691964106736"></p>
<ul>
<li>android/ios  å­˜æ”¾çš„æ˜¯åŒå¹³å°çš„ä»£ç ï¼Œå¦‚æœä¸éœ€è¦åŠ è½½åŸç”Ÿæ¨¡å—ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶å°±å¯ä»¥ä¸ç”¨ç®¡</li>
<li>node_modules nodeæ¨¡å—</li>
<li>src          è¿™ä¸ªæ˜¯è‡ªå·±å»ºçš„ç›®å½•ï¼Œç”¨äºå­˜æ”¾é¡¹ç›®æºç </li>
<li>index.[ios/android].js å¯åŠ¨æ—¶ä¼šæ ¹æ®å¹³å°è¿è¡Œä¸åŒçš„js</li>
</ul>
<p>å‰©ä¸‹çš„å°±éƒ½æ˜¯é…ç½®æ–‡ä»¶</p>
<p>src ä¸‹æ˜¯é¡¹ç›®ç»“æ„</p>
<ul>
<li>actions/store/reducers   æ˜¯reduxç›¸å…³çš„</li>
<li>configs/contants/images  é…ç½®æ–‡ä»¶å’Œå›¾ç‰‡</li>
<li>serices                  è¯·æ±‚çš„ç›¸å…³çš„js</li>
<li>components               ç»„ä»¶</li>
<li>layouts                  é¡µé¢</li>
</ul>
<h2 id="ä¸‰ã€ç”¨JSXè¯­æ³•æ„å»ºé¡µé¢ui"><a href="#ä¸‰ã€ç”¨JSXè¯­æ³•æ„å»ºé¡µé¢ui" class="headerlink" title="ä¸‰ã€ç”¨JSXè¯­æ³•æ„å»ºé¡µé¢ui"></a>ä¸‰ã€ç”¨JSXè¯­æ³•æ„å»ºé¡µé¢ui</h2><p>æ„å»ºæˆåŠŸä¹‹åï¼Œæ‰“å¼€ <code>index.android.js</code> , ä¼šå‘ç°renderæ–¹æ³•ä¸‹è¿™æ ·çš„ä»£ç </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"> &lt;View style=&#123;styles.container&#125; &gt;</div><div class="line">	 <span class="xml"><span class="tag">&lt;<span class="name">Nav</span> <span class="attr">title</span>=<span class="string">"å…³äº"</span> <span class="attr">router</span>=<span class="string">&#123;this.props.router&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Nav</span>&gt;</span></span></div><div class="line">    &lt;View style=&#123;styles.wrapper&#125;&gt;</div><div class="line">       <span class="xml"><span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;styles.main&#125;</span>&gt;</span></span></div><div class="line">	       <span class="tag">&lt;<span class="name">Image</span> <span class="attr">style</span>=<span class="string">&#123;styles.logo&#125;</span> <span class="attr">source</span>=<span class="string">&#123;require(</span>'<span class="attr">..</span>/<span class="attr">images</span>/<span class="attr">logo.png</span>')&#125;/&gt;</span></div><div class="line">	       <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;styles.title&#125;</span>&gt;</span>ç¯ä¿å¤´æ¡<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">	       <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;styles.subTitle&#125;</span>&gt;</span>æ‚¨å…³å¿ƒçš„å°±æ˜¯å¤´æ¡<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">	       <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;styles.version&#125;</span>&gt;</span>å½“å‰ç‰ˆæœ¬:   V1.0 (Build:42)<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">       <span class="tag">&lt;/<span class="name">View</span>&gt;</span></div><div class="line">       <span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;styles.footer&#125;</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;styles.agreement&#125;</span>&gt;</span>ç”¨æˆ·åè®®<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">       	<span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;styles.copyRight&#125;</span>&gt;</span>æŠ€æœ¯æ”¯æŒï¼šæ·±åœ³åšå®‰è¾¾ä¿¡æ¯æŠ€æœ¯è‚¡ä»½æœ‰é™å…¬å¸<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">       <span class="tag">&lt;/<span class="name">View</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">View</span>&gt;</span></div><div class="line">&lt;<span class="regexp">/View&gt;</span></div></pre></td></tr></table></figure>
<p>react æ˜¯åŸºäºè™šæ‹Ÿdomçš„è®¾è®¡ï¼Œ æ‰€è°“è™šæ‹Ÿdomï¼Œå°±æ˜¯è®²æ‰€æœ‰çš„ åœ¨viewå’Œé€»è¾‘ä¹‹é—´ï¼ŒæŠ½è±¡å‡ºçš„å¯¹è±¡ï¼Œæœ€åå°†è¿™äº›å¯¹è±¡è§£ææˆé¡µé¢ï¼Œä¸é™web æˆ–è€…åŸç”Ÿï¼Œåªæ˜¯ç»™å‡ºä¸åŒçš„å®ç°å°±å¯ä»¥äº†ã€‚ å¦‚æœä¸ç”¨jsx, reactçš„è¯­æ³•å†™èµ·æ¥å°±æ˜¯è¿™æ ·çš„</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">React.createElement(<span class="string">'View'</span>, &#123;</div><div class="line">	<span class="attr">style</span>: &#123;&#125;</div><div class="line">&#125;, React.createElement(<span class="string">'View'</span>))</div></pre></td></tr></table></figure>
<p>è¿™ä¹ˆä¸€çœ‹è¿˜æ˜¯jsxæ–¹ä¾¿ï¼Œè™½ç„¶ç½‘ä¸Šæœ‰å¾ˆå¤šæŠ¨å‡»jsx çš„è¨€è®ºï¼Œ ä½†æ˜¯jsx å¯¹äºè™šæ‹ŸDOM æ¥è¯´ä»ç„¶æ˜¯æœ€å¥½çš„ä¸€ç§æ–¹å¼ï¼Œ Vue2.0ä¹Ÿç”¨jsxäº†ï¼Œè™½ç„¶ä¹Ÿä¿ç•™äº†templateçš„æ–¹å¼ï¼Œä½†æ˜¯å°¤å¤§å¤§ä¹Ÿè¯´äº†å¾ˆå¤šæƒ…å†µè¿˜æ˜¯è¦ä½¿ç”¨jsxçš„ã€‚</p>
<p>æœ€åï¼Œjsx åªæ˜¯ä¸€ç§ä¾¿äºåœ¨jsé‡Œå†™è™šæ‹Ÿdomå¯¹è±¡çš„è¯­æ³•è€Œå·²ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ï¼Œè¿˜æ˜¯å¾ˆå®¹æ˜“ä¸Šæ‰‹çš„ã€‚</p>
<p><a href="http://reactjs.cn/react/docs/jsx-in-depth.html" target="_blank" rel="external">jsxå†™æ³•çœ‹è¿™é‡Œ</a></p>
<h2 id="å››ã€stylesheet-æ ·å¼ç®¡ç†"><a href="#å››ã€stylesheet-æ ·å¼ç®¡ç†" class="headerlink" title="å››ã€stylesheet æ ·å¼ç®¡ç†"></a>å››ã€stylesheet æ ·å¼ç®¡ç†</h2><p>ç”¨äº†react-nativeå°±æ˜¯ä¸èƒ½åƒwebå¼€å‘ä¸€æ ·æ„‰å¿«çš„å†™æ ·å¼äº†ï¼Œ react-native ä¹Ÿæä¾›äº†è‡ªå·±çš„æ ·å¼å®šä¹‰çš„æ–¹æ³•,<br>ä½¿ç”¨ flexbox å¸ƒå±€ï¼Œä¹Ÿæ”¯æŒ absoluteè§‰å¾—å®šä½ï¼ŒåŸºæœ¬å’Œ cssä¸­ä¸€ç›´</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> styles = StyleSheet.create(&#123;</div><div class="line">    <span class="attr">container</span>: &#123;</div><div class="line">        <span class="attr">backgroundColor</span>: <span class="string">'white'</span>,</div><div class="line">        <span class="attr">width</span>: width,</div><div class="line">        <span class="attr">height</span>: height,</div><div class="line">        <span class="attr">position</span>: <span class="string">'relative'</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">wrapper</span>: &#123;</div><div class="line">        <span class="attr">flex</span>: <span class="number">1</span>,</div><div class="line">        <span class="attr">paddingTop</span>: <span class="number">50</span>,</div><div class="line">        <span class="attr">paddingBottom</span>: <span class="number">80</span>,</div><div class="line">        <span class="attr">alignItems</span>: <span class="string">'center'</span>,</div><div class="line">        <span class="attr">justifyContent</span>: <span class="string">'space-between'</span></div><div class="line">    &#125;</div><div class="line"> &#125;)</div><div class="line"> </div><div class="line">&lt;View style=&#123;styles.container&#125;/&gt;</div></pre></td></tr></table></figure>
<p>å…³äºflexboxå¸ƒå±€ï¼Œé˜®ä¸€å³°è€å¸ˆå†™è¿‡ä¸€ç¯‡è¯¦ç»†çš„æ•™ç¨‹ <a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="external">Flex å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡</a></p>
<p>react-nativeä¹Ÿå¹¶ä¸æ˜¯ä»€ä¹ˆå±æ€§éƒ½æ”¯æŒï¼Œå…·ä½“åˆ°æ¯ä¸€ä¸ªç»„ä»¶ï¼Œä¾‹å¦‚ : å¯¹äºå­—ä½“ç›¸å…³çš„æ ·å¼ fontSizeï¼Œ color,è¿™äº›åªæœ‰Text æ”¯æŒï¼Œè€ŒTextç»„ä»¶å¹¶ä¸æ”¯æŒwidthå’Œheightè¿™äº›ç»„ä»¶ã€‚</p>
<h2 id="äº”ã€reduxç®¡ç†ä½ çš„app"><a href="#äº”ã€reduxç®¡ç†ä½ çš„app" class="headerlink" title="äº”ã€reduxç®¡ç†ä½ çš„app"></a>äº”ã€reduxç®¡ç†ä½ çš„app</h2><p>reactæ˜¯é€šè¿‡çŠ¶æ€çš„å˜åŒ–æ¥æ”¹å˜é¡µé¢çš„å±•ç¤ºï¼Œæ¯ä¸€ä¸ªç»„ä»¶éƒ½æœ‰å†…éƒ¨çŠ¶æ€ï¼Œå½“ç”¨æˆ·ç‚¹å‡»é¡µé¢æˆ–è€…æ»‘åŠ¨çš„æ—¶å€™éƒ½ä¼šè§¦å‘äº‹ä»¶ï¼Œå¯¹åº”çš„æ”¹å˜çŠ¶æ€ï¼Œæ›´æ–°é¡µé¢å±•ç¤ºã€‚</p>
<p>å¦‚æœæ²¡æœ‰çŠ¶æ€ç®¡ç†çš„è¯ï¼Œæ¯ä¸€ä¸ªç»„ä»¶å°±æ˜¯ç›¸å¯¹ç‹¬ç«‹ï¼Œç»„ä»¶ä¹‹å‰æœ‰äº¤äº’å˜å¾—å¾ˆéš¾, ä¾‹å¦‚ï¼šå­ç»„ä»¶ä¸­çš„ä¸€ä¸ªæ“ä½œï¼Œéœ€è¦æ”¹å˜çˆ¶ç»„ä»¶çš„çŠ¶æ€ï¼Œè¿™ç§åœºæ™¯æ§åˆ¶èµ·æ¥å¾ˆéº»çƒ¦ã€‚</p>
<p>reduxå°±æ˜¯é—®äº†è§£å†³è¿™ç§é—®é¢˜è€Œç”Ÿçš„æ¡†æ¶ï¼Œæ•´ä¸ªåº”ç”¨çš„ state è¢«å‚¨å­˜åœ¨ä¸€æ£µ object tree ä¸­ï¼Œå¹¶ä¸”è¿™ä¸ª object tree åªå­˜åœ¨äºå”¯ä¸€ä¸€ä¸ª <code>store</code> ä¸­ã€‚ é¡µé¢ä¸­çš„ç»„ä»¶å‘ç”Ÿäº‹ä»¶ï¼Œå°±äº§ç”Ÿä¸€ä¸ª <code>action</code> , <code>action</code>å°†å‚æ•°è½¬ç»™ <code>reducer</code> ï¼Œ <code>reducer</code> è¿›è¿‡é€»è¾‘å¤„ç†è¿”å›æ–°çš„ <code>state</code> reduxå“åº” stateå˜åŒ–ï¼Œæ¥æ›´æ–°é¡µé¢ã€‚</p>
<p>ä¸€æ—¦ä½¿ç”¨ <code>redux</code> å°±å°½é‡ä¸è¦åœ¨ç»„ä»¶å†…éƒ¨åˆ›å»º <code>state</code> , ä¸€ä¸ªç»„ä»¶çš„æ ‡å‡†å®šä¹‰åº”è¯¥å¦‚ä¸‹:</p>
<ol>
<li>props å‚æ•°ï¼Œæ ¹æ®ä¸åŒçš„å‚æ•°å±•ç¤ºä¸åŒé¡µé¢</li>
<li>action ç»„ä»¶ä¸­å“åº”ç”¨æˆ·æ“ä½œäº§ç”Ÿaction,ç»reduxä¿®æ”¹çŠ¶æ€ ä¼ å…¥æ–°çš„ props</li>
<li>å“åº”propsæ”¹å˜ï¼Œæ›´æ–°é¡µé¢ã€‚</li>
</ol>
<h2 id="å…­ã€ç½‘ç»œè¯·æ±‚-fetch"><a href="#å…­ã€ç½‘ç»œè¯·æ±‚-fetch" class="headerlink" title="å…­ã€ç½‘ç»œè¯·æ±‚ fetch"></a>å…­ã€ç½‘ç»œè¯·æ±‚ fetch</h2><blockquote>
<p>React Nativeçš„ç›®æ ‡ä¹‹ä¸€æ˜¯åˆ›é€ ä¸€ä¸ªå®éªŒåœºï¼Œè®©æˆ‘ä»¬å¯ä»¥å®éªŒä¸åŒçš„æŠ€æœ¯å’Œä¸€äº›ç–¯ç‹‚çš„æƒ³æ³•ã€‚å› ä¸ºæµè§ˆå™¨ç¯å¢ƒè¿˜ä¸å¤Ÿçµæ´»ï¼Œæˆ‘ä»¬é™¤äº†è‡ªå·±å®ç°æ•´ä¸ªæŠ€æœ¯æ ˆä»¥å¤–åˆ«æ— é€‰æ‹©ã€‚å…¶ä¸­æœ‰äº›éƒ¨åˆ†æˆ‘ä»¬æ²¡æœ‰åˆ»æ„ä¿®æ”¹ï¼Œè€Œä¸”å¸Œæœ›å°½å¯èƒ½åœ°å¿ å®äºæµè§ˆå™¨çš„APIã€‚ç½‘ç»œAPIå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„ä¾‹å­ã€‚</p>
</blockquote>
<p>ä½¿ç”¨æ–¹æ³•</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">fetch(<span class="string">'https://mywebsite.com/endpoint/'</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</div><div class="line">	<span class="keyword">return</span> res.json()</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>fetch æ˜¯ä¸€ä¸ªåŸºäºå¼‚æ­¥å¤„ç† <code>Promise</code> çš„è®¾è®¡ï¼Œæ›´åŠ çš„æ–¹ä¾¿å¥½ç”¨ï¼Œç°åœ¨æµè§ˆå™¨ç¯å¢ƒä¹Ÿæ”¯æŒäº†ï¼ˆä»…è°·æ­Œï¼‰, ç¬¬äºŒçš„å‚æ•°æ˜¯å¯é€‰çš„ï¼Œç”¨äºé…ç½®ä¸€äº›è¯·æ±‚å‚æ•°ï¼Œä¾‹å¦‚ä¸‹é¢è¿™æ ·å‘é€ä¸€ä¸ª <em>post</em> è¯·æ±‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">fetch(<span class="string">'https://mywebsite.com/endpoint/'</span>, &#123;</div><div class="line">  <span class="attr">method</span>: <span class="string">'POST'</span>,</div><div class="line">  <span class="attr">headers</span>: &#123;</div><div class="line">    <span class="string">'Content-Type'</span>: <span class="string">'application/x-www-form-urlencoded'</span>,</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">body</span>: <span class="string">'key1=value1&amp;key2=value2'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>æ›´å¤š fetch å’Œ Promise è®²è§£çœ‹è¿™é‡Œå°±å¥½å•¦ï¼š</p>
<ol>
<li><a href="http://www.tuicool.com/articles/QZBJ7zJ" target="_blank" rel="external">JavaScript Fetch API</a></li>
<li><a href="http://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="external">Promiseå¯¹è±¡</a></li>
</ol>
<p>å¦å¤– react-native è¿˜æ”¯æŒ XMLHttpRequest å’Œ WebSocket, <a href="http://reactnative.cn/docs/0.28/network.html#content" target="_blank" rel="external">ç½‘ç»œ</a></p>
<h2 id="ä¸ƒã€Navigator-ä¸åŒåœºæ™¯ï¼ˆé¡µé¢ï¼‰é—´è¿›è¡Œåˆ‡æ¢"><a href="#ä¸ƒã€Navigator-ä¸åŒåœºæ™¯ï¼ˆé¡µé¢ï¼‰é—´è¿›è¡Œåˆ‡æ¢" class="headerlink" title="ä¸ƒã€Navigator ä¸åŒåœºæ™¯ï¼ˆé¡µé¢ï¼‰é—´è¿›è¡Œåˆ‡æ¢"></a>ä¸ƒã€Navigator ä¸åŒåœºæ™¯ï¼ˆé¡µé¢ï¼‰é—´è¿›è¡Œåˆ‡æ¢</h2><p>ä¹‹å‰åšwebappçš„æ—¶å€™æœ€éš¾æçš„å°±æ˜¯ä¸åŒåœºæ™¯é—´çš„åˆ‡æ¢ï¼Œè™½è¯´éƒ½æœ‰routerå’Œåœºæ™¯åŠ¨ç”»ï¼Œä½†æ˜¯å¾ˆéš¾åˆ†æ¸…æ¥šï¼Œå‰è¿›å’Œè¿”å›çš„ä¸åŒåŠ¨ç”»ï¼Œ ä¹Ÿæ²¡æœ‰æ‰‹åŠ¿è¿”å›ï¼Œå°±ç®—æ¨¡æ‹Ÿå‡ºæ¥äº†è¿™ä¸¤è€…ï¼Œæ€§èƒ½ä¹Ÿä¸ä¸€å®šå¥½ã€‚</p>
<p>åœ¨ <code>react-native</code> ä¸­æä¾› Navigator ç»„ä»¶ï¼Œ ç”¨æ¥æ§åˆ¶ä¸åŒé¡µé¢é—´çš„åˆ‡æ¢, åŸºæœ¬ä½¿ç”¨æ–¹å¼å¦‚ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;Navigator</div><div class="line">    initialRoute=&#123;&#123;<span class="attr">name</span>: <span class="string">'My First Scene'</span>, <span class="attr">index</span>: <span class="number">0</span>&#125;&#125;</div><div class="line">    renderScene=&#123;(route, navigator) =&gt;</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">MySceneComponent</span></span></span></div><div class="line">        <span class="attr">name</span>=<span class="string">&#123;route.name&#125;</span></div><div class="line">        <span class="attr">onForward</span>=<span class="string">&#123;()</span> =&gt; &#123;</div><div class="line">          var nextIndex = route.index + 1;</div><div class="line">          navigator.push(&#123;</div><div class="line">            name: 'Scene ' + nextIndex,</div><div class="line">            index: nextIndex,</div><div class="line">          &#125;);</div><div class="line">        &#125;&#125;</div><div class="line">        onBack=&#123;() =&gt; &#123;</div><div class="line">          if (route.index &gt; 0) &#123;</div><div class="line">            navigator.pop();</div><div class="line">          &#125;</div><div class="line">        &#125;&#125;</div><div class="line">      /&gt;</div><div class="line">    &#125;</div><div class="line">  /&gt;</div></pre></td></tr></table></figure>
<p>åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é…åˆè‡ªå®šä¹‰çš„routerå¯¹è±¡ï¼Œå°è£…çš„æ›´åŠ å®Œç¾ä¸€äº›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Router</span> </span>&#123;</div><div class="line">	<span class="keyword">constructor</span>(navigator) &#123;</div><div class="line">		<span class="keyword">this</span>.navigator = navigator</div><div class="line">		<span class="keyword">this</span>.exitflag = <span class="literal">false</span></div><div class="line">		<span class="keyword">if</span> (Platform.OS === <span class="string">'android'</span>) &#123;</div><div class="line">			BackAndroid.addEventListener(<span class="string">'hardwareBackPress'</span>, ()=&gt; &#123;</div><div class="line">				<span class="keyword">const</span> routesList = <span class="keyword">this</span>.navigator.getCurrentRoutes()</div><div class="line">				<span class="keyword">const</span> currentRoute = routesList[routesList.length - <span class="number">1</span>]</div><div class="line">				<span class="keyword">if</span> (currentRoute.name !== <span class="string">'main'</span>) &#123;</div><div class="line">					navigator.pop()</div><div class="line">					<span class="keyword">return</span> <span class="literal">true</span></div><div class="line">				&#125; <span class="keyword">else</span> <span class="keyword">if</span> (!<span class="keyword">this</span>.exitflag) &#123;</div><div class="line">					<span class="keyword">this</span>.exitflag = <span class="literal">true</span></div><div class="line">					ToastAndroid.show(<span class="string">'å†æŒ‰ä¸€æ¬¡é€€å‡ºï¼'</span>, ToastAndroid.SHORT)</div><div class="line">					setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">						<span class="keyword">this</span>.exitflag = <span class="literal">false</span></div><div class="line">					&#125;, <span class="number">3000</span>)</div><div class="line">					<span class="keyword">return</span> <span class="literal">true</span></div><div class="line">				&#125;</div><div class="line">				<span class="keyword">return</span> <span class="literal">false</span></div><div class="line">			&#125;)</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line">	push(props = &#123;&#125;, route) &#123;</div><div class="line">		<span class="keyword">this</span>.exitflag = <span class="literal">false</span></div><div class="line">		<span class="keyword">let</span> routesList = <span class="keyword">this</span>.navigator.getCurrentRoutes()</div><div class="line">		<span class="keyword">let</span> nextIndex = routesList[routesList.length - <span class="number">1</span>].index + <span class="number">1</span></div><div class="line">		route.props = props</div><div class="line">		route.index = nextIndex</div><div class="line">		route.sceneConfig = route.sceneConfig ? route.sceneConfig : 		CustomSceneConfigs.customPushFromRight</div><div class="line">		route.id = _.uniqueId()</div><div class="line">		route.component = connectComponent(route.component)</div><div class="line">		<span class="keyword">this</span>.navigator.push(route)</div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line">	pop() &#123;</div><div class="line">		<span class="keyword">this</span>.navigator.pop()</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	toNews(props) &#123;</div><div class="line">		<span class="keyword">this</span>.push(props, &#123;</div><div class="line">			<span class="attr">component</span>: News,</div><div class="line">			<span class="attr">name</span>: <span class="string">'news'</span></div><div class="line">		&#125;)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	toAbout(props) &#123;</div><div class="line">		<span class="keyword">this</span>.push(props, &#123;</div><div class="line">			<span class="attr">component</span>: About,</div><div class="line">			<span class="attr">name</span>: <span class="string">'about'</span></div><div class="line">		&#125;)</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ä¸åŒçš„åœºæ™¯ åˆ›å»ºä¸åŒçš„element</span></div><div class="line">renderScene(&#123; component, name, props, id, index &#125;, navigator) &#123;</div><div class="line">		<span class="keyword">this</span>.router = <span class="keyword">this</span>.router || <span class="keyword">new</span> Router(navigator)</div><div class="line">		<span class="keyword">if</span> (component) &#123;</div><div class="line">			<span class="keyword">return</span> React.createElement(component, &#123;</div><div class="line">				...props,</div><div class="line">				<span class="attr">ref</span>: <span class="function"><span class="params">view</span> =&gt;</span> <span class="keyword">this</span>[index] = view,</div><div class="line">				<span class="attr">router</span>: <span class="keyword">this</span>.router,</div><div class="line">				<span class="attr">route</span>: &#123;</div><div class="line">					name,</div><div class="line">					id,</div><div class="line">					index</div><div class="line">				&#125;</div><div class="line">			&#125;)</div><div class="line">		&#125;</div><div class="line">&#125;</div><div class="line">render() &#123;</div><div class="line">	<span class="keyword">return</span> (</div><div class="line">			&lt;View style=&#123;styles.container&#125;&gt;</div><div class="line">	            &lt;StatusBar</div><div class="line">	                backgroundColor=&#123;config.theme_color&#125;</div><div class="line">	                barStyle="light-content"</div><div class="line">	            /&gt;</div><div class="line">				&lt;Navigator</div><div class="line">					ref=&#123;view =&gt; this.navigator=view&#125;</div><div class="line">					initialRoute=&#123;initialRoute&#125;</div><div class="line">					configureScene=&#123;this.configureScene.bind(this)&#125;</div><div class="line">					renderScene=&#123;this.renderScene.bind(this)&#125;/&gt;</div><div class="line">				&lt;Utils/&gt;</div><div class="line">			&lt;/View&gt;</div><div class="line">		)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="å…«ã€AsyncStorage-æ•°æ®å­˜å‚¨"><a href="#å…«ã€AsyncStorage-æ•°æ®å­˜å‚¨" class="headerlink" title="å…«ã€AsyncStorage æ•°æ®å­˜å‚¨"></a>å…«ã€AsyncStorage æ•°æ®å­˜å‚¨</h2><p>è§£å†³äº†åœºæ™¯åˆ‡æ¢ï¼Œæ•°æ®ç¼“å­˜ä¹Ÿæ˜¯ä¹‹å‰webappå¼€å‘çš„ç—›ç‚¹ï¼Œ ä¸»è¦çš„åŸå› æ˜¯localstorageçš„å®¹é‡ä¸ä¸€è‡´ï¼Œè€Œä¸”ç”¨æˆ·ä¹Ÿå¯ä»¥ç›´æ¥æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ã€‚</p>
<p>AsyncStorageæ˜¯ä¸€ä¸ªç®€å•çš„ã€å¼‚æ­¥çš„ã€æŒä¹…åŒ–çš„Key-Valueå­˜å‚¨ç³»ç»Ÿï¼Œå®ƒå¯¹äºAppæ¥è¯´æ˜¯å…¨å±€æ€§çš„ã€‚å®ƒç”¨æ¥ä»£æ›¿LocalStorageï¼Œ ä½¿ç”¨æ–¹å¼éå¸¸ç®€å•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">mport React, &#123;</div><div class="line">	AsyncStorage</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">setItem</span> (<span class="params">key, value</span>) </span>&#123;</div><div class="line">	<span class="keyword">if</span> (value == <span class="literal">null</span>) <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(<span class="string">'StorageService Error: value should not be null or undefined'</span>)</div><div class="line">	<span class="keyword">return</span> <span class="keyword">await</span> AsyncStorage.setItem(key, <span class="built_in">JSON</span>.stringify(value))</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getItem</span> (<span class="params">key</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> AsyncStorage.getItem(key)</div><div class="line">		.then(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</div><div class="line">			<span class="keyword">return</span> <span class="built_in">JSON</span>.parse(value)</div><div class="line">		&#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>async await æ˜¯es7çš„æ–°ç‰¹æ€§ï¼Œç”¨äºå®šä¹‰ä¸€ä¸ªå¼‚æ­¥çš„å‡½æ•°</li>
</ul>
<h2 id="ä¹ã€Animated-åŠ¨ç”»å¤„ç†"><a href="#ä¹ã€Animated-åŠ¨ç”»å¤„ç†" class="headerlink" title="ä¹ã€Animated åŠ¨ç”»å¤„ç†"></a>ä¹ã€Animated åŠ¨ç”»å¤„ç†</h2><blockquote>
<p>åŠ¨ç”»æ˜¯ç°ä»£ç”¨æˆ·ä½“éªŒä¸­éå¸¸é‡è¦çš„ä¸€ä¸ªéƒ¨åˆ†ï¼Œ<code>Animated</code> åº“å°±æ˜¯ç”¨æ¥åˆ›é€ æµç•…ã€å¼ºå¤§ã€å¹¶ä¸”æ˜“äºæ„å»ºå’Œç»´æŠ¤çš„åŠ¨ç”»ã€‚<br>æœ€ç®€å•çš„å·¥ä½œæµç¨‹å°±æ˜¯åˆ›å»ºä¸€ä¸ª <code>Animated.Value</code> ï¼ŒæŠŠå®ƒç»‘å®šåˆ°ç»„ä»¶çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ ·å¼å±æ€§ä¸Šã€‚ç„¶åå¯ä»¥é€šè¿‡åŠ¨ç”»é©±åŠ¨å®ƒï¼Œè­¬å¦‚ <code>Animated.timing</code> ï¼Œæˆ–è€…é€šè¿‡ <code>Animated.event</code> æŠŠå®ƒå…³è”åˆ°ä¸€ä¸ªæ‰‹åŠ¿ä¸Šï¼Œè­¬å¦‚æ‹–åŠ¨æˆ–è€…æ»‘åŠ¨æ“ä½œã€‚é™¤äº†æ ·å¼ï¼Œ<code>Animated.value</code> è¿˜å¯ä»¥ç»‘å®šåˆ°propsä¸Šï¼Œå¹¶ä¸”ä¸€æ ·å¯ä»¥è¢«æ’å€¼ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œä¸€ä¸ªå®¹å™¨è§†å›¾ä¼šåœ¨åŠ è½½çš„æ—¶å€™æ·¡å…¥æ˜¾ç¤º</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FadeInView</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">   <span class="keyword">constructor</span>(props) &#123;</div><div class="line">     <span class="keyword">super</span>(props);</div><div class="line">     <span class="keyword">this</span>.state = &#123;</div><div class="line">       <span class="attr">fadeAnim</span>: <span class="keyword">new</span> Animated.Value(<span class="number">0</span>), <span class="comment">// init opacity 0</span></div><div class="line">     &#125;;</div><div class="line">   &#125;</div><div class="line">   componentDidMount() &#123;</div><div class="line">     Animated.timing(          <span class="comment">// Uses easing functions</span></div><div class="line">       <span class="keyword">this</span>.state.fadeAnim,    <span class="comment">// The value to drive</span></div><div class="line">       &#123;<span class="attr">toValue</span>: <span class="number">1</span>&#125;,           <span class="comment">// Configuration</span></div><div class="line">     ).start();                <span class="comment">// Don't forget start!</span></div><div class="line">   &#125;</div><div class="line">   render() &#123;</div><div class="line">     <span class="keyword">return</span> (</div><div class="line">       <span class="xml"><span class="tag">&lt;<span class="name">Animated.View</span>          // <span class="attr">Special</span> <span class="attr">animatable</span> <span class="attr">View</span></span></span></div><div class="line">         <span class="attr">style</span>=<span class="string">&#123;&#123;opacity:</span> <span class="attr">this.state.fadeAnim</span>&#125;&#125;&gt; // Binds</div><div class="line">         &#123;this.props.children&#125;</div><div class="line">       <span class="tag">&lt;/<span class="name">Animated.View</span>&gt;</span></div><div class="line">     );</div><div class="line">   &#125;</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<p>ä»¥ä¸Šçš„ä»£ç å’Œä»‹ç»æ¥æºäº <a href="http://reactnative.cn/docs/0.28/animated.html#content" target="_blank" rel="external">å®˜æ–¹æ–‡æ¡£</a> ï¼Œ åŠ¨ç”»ç›®å‰è¿˜ä¸æ˜¯ç‰¹åˆ«ç†Ÿæ‚‰ï¼Œä½†æ˜¯ä½¿ç”¨ä¹‹åè¿˜æ˜¯éå¸¸æµç•…çš„ã€‚</p>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>æ€»çš„æ¥è¯´ï¼Œreact-native å¼€å‘å‡ºæ¥çš„app è¿˜æ˜¯éå¸¸æµç•…çš„ï¼Œç°åœºå®ƒçš„ç”Ÿæ€ä¹Ÿéå¸¸å¥½ï¼Œä¸€äº›uiåº“å’ŒåŸç”Ÿæ¨¡å—å¾ˆå¿«å°±èƒ½æ‰¾åˆ°ã€‚ä¸Šä¸ªæœˆé˜¿é‡Œä¹Ÿå‘å¸ƒäº†åŸç”Ÿæ–¹æ¡ˆ <code>weex</code> ï¼Œå°±ç›®å‰æ¥è¯´ç”Ÿæ€è¿˜æ˜¯ä¸å¤ªå¥½ï¼Œä¸èƒ½ç›´æ¥åœ¨é¡¹ç›®ä¸Šä½¿ç”¨ã€‚ æˆ‘ä»¬éœ€è¦å¼€å‘åŒç«¯ä¸€è‡´çš„appæ—¶ï¼Œ react-nativeå°±æˆäº†ä¸äºŒä¹‹é€‰ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://myronliu.com/2016/07/17/react-native/react-native start/" data-id="cj7fx25q4001eoe77fr7nxtl5" class="article-share-link">åˆ†äº«</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react-native/">react-native</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ç§»åŠ¨ç«¯/">ç§»åŠ¨ç«¯</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/07/22/react-native/react-native_launch/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸Šä¸€ç¯‡</strong>
      <div class="article-nav-title">
        
          react-native ç»™androidç«¯è®¾ç½®å¯åŠ¨å›¾
        
      </div>
    </a>
  
  
    <a href="/2016/05/31/html5/html5ç½‘ç»œè¿æ¥/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸‹ä¸€ç¯‡</strong>
      <div class="article-nav-title">html5ç½‘ç»œè¿æ¥</div>
    </a>
  
</nav>

  
</article>



</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <h1 class="blog-title">ç²¾ç¥ç—…èšé›†åœ°</h1>
    <h2 class="blog-subtitle">æ­»å®…ä¸‡å²ï¼Œbilibili ( ã‚œ- ã‚œ)ã¤ãƒ­ ä¹¾æ¯~</h2>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>ä¸»é¡µ</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>å½’æ¡£</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>åˆ†ç±»</li>
          </a>
        
          <a href="/tags/vue" title="Tags">
            <li>æ ‡ç­¾</li>
          </a>
        
    </ul>
  </div>
</div>

  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="/images/uicon.jpg">
    <h2 class="author">myron</h2>
    <h3 class="description">ä¸€åªç–¯äº†çš„å‰ç«¯ğŸ¶</h3>
    <div class="count-box">
      <a href="/archives"><div><strong>48</strong><br>æ–‡ç« </div></a>
      <a href="/categories"><div><strong>0</strong><br>åˆ†ç±»</div></a>
      <a href="/tags/vue"><div><strong>25</strong><br>æ ‡ç­¾</div></a>
    </div>



    <div class="social-link">
      
        <a class="hvr-bounce-in" href="http://github.com/myronliu347" target="_blank" title="github">
          github
        </a>
      
        <a class="hvr-bounce-in" href="mailto:myronliu347@gmail.com" target="_blank" title="email">
          email
        </a>
      
    </div>

    <div class="friend-link">
      <h2>å‹æƒ…é“¾æ¥</h2>
      
        <a class="hvr-bounce-in" href="http://blog.shanamaid.top/" target="_blank" title="ShanaMaid">
          ShanaMaid
        </a>
      
    </div>
  </div>
</div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy;2016 - 2017 myron<br>
      ç”±<a href="http://hexo.io/" target="_blank">Hexo</a>å¼ºåŠ›é©±åŠ¨ | 
      ä¸»é¢˜-<a href="https://github.com/ShanaMaid/hexo-theme-shana">Shana</a>
      
    </div>
    
  </div>
</footer>
    </div>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="//apps.bdimg.com/libs/wow/0.1.6/wow.min.js"></script>
<script>
new WOW().init();
</script>   


  <link rel="stylesheet" href="/plugin/fancybox/jquery.fancybox.css">
  <script src="/plugin/fancybox/jquery.fancybox.pack.js"></script>



  <link rel="stylesheet" href="/plugin/galmenu/GalMenu.css">
  <script src="/plugin/galmenu/GalMenu.js"></script>
  <div class="GalMenu GalDropDown">
      <div class="circle" id="gal">
        <div class="ring">
          
            <a href="/" title="" class="menuItem">é¦–é¡µ</a>
          
            <a href="/tags/vue" title="" class="menuItem">æ ‡ç­¾</a>
          
            <a href="/archives" title="" class="menuItem">å½’æ¡£</a>
          
        </div>
        
          <audio id="audio" src="#"></audio>
        
      </div> 
</div>
<div id="overlay" style="opacity: 1; cursor: pointer;"></div>
  <script type="text/javascript">var items = document.querySelectorAll('.menuItem');
    for (var i = 0,
    l = items.length; i < l; i++) {
      items[i].style.left = (50 - 35 * Math.cos( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%";
      items[i].style.top = (50 + 35 * Math.sin( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%"
    }</script>
<script type="text/javascript">
  $(document).ready(function() {
    $('body').GalMenu({
      'menu': 'GalDropDown'
    })
  });
</script>

  <section class="hidden-xs"> 
  <ul class="cb-slideshow"> 
    <li><span>è‹Ÿåˆ©</span></li> 
    <li><span>å›½å®¶</span></li> 
    <li><span>ç”Ÿæ­»ä»¥</span></li> 
    <li><span>å²‚èƒ½</span></li> 
    <li><span>ç¥¸ç¦</span></li> 
    <li><span>è¶‹é¿ä¹‹</span></li> 
  </ul>
</section>
<script src="/js/script.js"></script>



  </div>
</body>
</html>